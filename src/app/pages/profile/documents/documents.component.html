<mat-card class="mb-8">
  <h2>Documentos</h2>
</mat-card>
<div class="flex justify-between">
  <button mat-raised-button color="primary" (click)="addNewDocumentg()">
    Adicionar novo documento
  </button>
  <button
    mat-raised-button
    color="primary"
    [disabled]="documentsFormArray.invalid"
    (click)="saveDocuments()"
  >
    Salvar
  </button>
</div>
<mat-card *ngFor="let control of documentFormGroups; index as i" class="my-4">
  <mat-card-header>
    <mat-card-title>Documento {{ i + 1 }}</mat-card-title>
  </mat-card-header>
  <form [formGroup]="control">
    <mat-form-field class="w-4/12 mr-2">
      <mat-label>Tipo de documento</mat-label>
      <select matNativeControl required formControlName="type">
        <option value="">Selecione</option>
        <option *ngFor="let type of documentTypes" [value]="type">
          {{ type }}
        </option>
      </select>
      <mat-error>{{ control.get('type')?.errors?.message }}</mat-error>
    </mat-form-field>
    <mat-form-field class="w-4/12 mr-2">
      <input matInput placeholder="Value" formControlName="value" required />
      <mat-error>{{ control.get('value')?.errors?.message }}</mat-error>
    </mat-form-field>
    <mat-form-field class="w-4/12 mr-2">
      <input matInput placeholder="Complemento" formControlName="complement" />
      <mat-error>{{ control.get('complement')?.errors?.message }}</mat-error>
    </mat-form-field>
  </form>
  <mat-card-actions
    *ngIf="i"
    matRaisedButton
    (click)="removeDocument(i)"
    class="text-right"
  >
    <button mat-button color="warn">Remover</button>
  </mat-card-actions>
</mat-card>
